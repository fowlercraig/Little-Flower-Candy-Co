<div id="col-main">
    <div id="slides">
    	<a href="#" class="next">&rarr;</a>
		<a href="#" class="prev">&larr;</a>
		<div class="slides_container">
			
			{{ pages.home-page-slides.content }}
			
		</div>
	</div> 
	
</div>

<script>
	$('#slides').slides({
		preload: true,
		preloadImage: 'http://cdn.shopify.com/s/files/1/0168/0794/t/1/assets/load.gif?1040',
		play: 7000,
		pause: 2000,
		fadeSpeed: 1000,
		effect: 'fade',
		crossfade: true,
		generateNextPrev: false,
		generatePagination: false,
		crossfade: true,
	});

	var ox = $(window).width();
	var oy = $(window).height();

	$("#slides").css({
		'width': ox,
		'height': oy
	});
	$("#slides .slides_container").css({
		'width': ox,
		'height': oy
	});
	$("#slides .slide").css({
		'width': ox,
		'height': oy
	});
	$('#slides .slide img').each(function () {

		var self = this;
		var img = new Image();
		img.onload = function () {
			var cx = this.width;
			var cy = this.height;

			$(self).parent().css({
				'width': ox,
				'height': oy
			});

			$(self).parent().parent().css({
				'width': ox * 5,
				'height': oy
			});

			$(self).parent().parent().parent().css({
				'width': ox,
				'height': oy
			});

			if (ox / oy > cx / cy) {
				$(self).css({
					'width': ox,
					'height': (ox * cy / cx),
					'left': 0,
					'top': 0.5 * (oy - (ox * cy / cx)),
					'position': 'relative'
				});

			} else {
				$(self).css({
					'width': oy * cx / cy,
					'height': oy,
					'top': 0,
					'left': 0.5 * (ox - (oy * cx / cy)),
					'position': 'relative'
				});
			}
		}
		img.src = $(self).attr('src');

	});


	$(window).resize(function () {
		var ox = $(window).width();
		var oy = $(window).height();

		$("#slides").css({
			'width': ox,
			'height': oy
		});
		$("#slides .slides_container").css({
			'width': ox,
			'height': oy
		});
		$("#slides .slide").css({
			'width': ox,
			'height': oy
		});
		$('#slides .slide img').each(function () {

			var self = this;
			var img = new Image();
			img.onload = function () {
				var cx = this.width;
				var cy = this.height;

				$(self).parent().css({
					'width': ox,
					'height': oy
				});

				$(self).parent().parent().css({
					'width': ox * 5,
					'height': oy
				});

				$(self).parent().parent().parent().css({
					'width': ox,
					'height': oy
				});

				if (ox / oy > cx / cy) {
					$(self).css({
						'width': ox,
						'height': (ox * cy / cx),
						'left': 0,
						'top': 0.5 * (oy - (ox * cy / cx)),
						'position': 'relative'
					});

				} else {
					$(self).css({
						'width': oy * cx / cy,
						'height': oy,
						'top': 0,
						'left': 0.5 * (ox - (oy * cx / cy)),
						'position': 'relative'
					});
				}
			}
			img.src = $(self).attr('src');

		});
	});

</script>
